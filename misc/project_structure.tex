\begin{figure}[ht]
    \centering

    %\begin{adjustbox}{width=0.8\linewidth}
    \begin{tikzpicture}
        \filldraw[fill=white, draw=black!80!white,dotted] (0,0) rectangle (10.5,1);
        \node at (5.25,0.45) {\large Orientació de la pantalla};
    
        \filldraw[fill=green!10!white, draw=black!60!white,dashed] (0,1.5) rectangle (10.5,4.25);
        \node at (1.4,3.95) {\textbf{DISPOSITIU}};
    
        \filldraw[fill=blue!10!white, draw=black!60!white,dashed] (0,4.75) rectangle (10.5,11.5);
        %\node at (1.4,11.2) {\textbf{ORDINADOR}}; % Moved to bottom for Z-index
    
        \filldraw[fill=white,fill opacity=0.6, draw=black] (7.75,3.5) rectangle (8.25,5.25);
        \node at (8,4.375) {\rotatebox{90}{\textbf{USB}}};
    
        \filldraw[fill=green!20!white, draw=black!60!white] (0.5,2) rectangle (4.75,3.5);
        \node at (2.625,2.75) {\large Sensor};
    
        \filldraw[fill=green!20!white, draw=black!60!white] (6,2) rectangle (10,3.5);
        \node at (8,2.75) {\large Microcontrolador};
    
        \filldraw[fill=blue!20!white, draw=black!60!white] (0.5,5.25) rectangle (4.75,6.75);
        \node at (2.625,6.25) {\large Entorn gràfic};
        \node at (2.625,5.75) {\large (pantalles)};
    
        \filldraw[fill=blue!20!white, draw=black!60!white] (6,5.25) rectangle (10,6.75);
        \node at (8,6) {\large Drivers};
    
        \filldraw[fill=blue!20!white, draw=black!60!white] (0.5,7.25) rectangle (10,8.75);
        \node at (5.25,8) {\large Aplicació};
    
        \filldraw[fill=blue!20!white, draw=black!60!white] (0.5,9.25) rectangle (4.75,10.75);
        \node at (2.625,10.25) {\large Gestor de serveis};
        \node at (2.625,9.75) {\large (execució en segon pla)};
    
        \filldraw[fill=blue!20!white, draw=black!60!white] (6,9.25) rectangle (10,10.75);
        \node at (8,10.25) {\large Fitxer de};
        \node at (8,9.75) {\large configuració};
    
        \filldraw[fill=white, draw=black!80!white,dotted] (0,12) rectangle (10.5,13);
        \node at (5.25,12.45) {\large Usuari};
    
        \draw[line width=0.5mm, draw=black!50, <->] (2.625,1) -- (2.625,2);
        \draw[line width=0.5mm, <->] (4.75,2.75) -- (6,2.75);
    
        \draw[line width=0.5mm, <->] (2.625,6.75) -- (2.625,7.25);
        \draw[line width=0.5mm, <->] (8,6.75) -- (8,7.25);
    
        \draw[line width=0.5mm, <->] (2.625,8.75) -- (2.625,9.25);
        \draw[line width=0.5mm, <->] (8,8.75) -- (8,9.25);
    
        \draw[line width=0.5mm, draw=black!50, <->] (2.625,10.75) -- (2.625,12);
        \draw[line width=0.5mm, draw=black!50, <->] (8,10.75) -- (8,12);
    
        \node at (1.5,11.2) {\textbf{ORDINADOR}};
    \end{tikzpicture}
    %\end{adjustbox}

    \caption{Esquema simplificat de l'estructura del projecte.}
    \label{fig:project-structure}
\end{figure}
